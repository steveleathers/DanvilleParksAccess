<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Danville Park Service Area Maps</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.20.0/mapbox-gl.js'></script>
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.20.0/mapbox-gl.css' rel='stylesheet' />
<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; z-index:-1; }
  #legend{
    display: block;
    float: left;
    background-color: #FFF;
    padding: 5px;
    border-radius: 5px;
    font-family: Georgia;
    position: fixed;
    bottom: 10px;
    left: 10px;
  }
</style>
</head>
<body>
<div id='map'></div>
<div id = 'legend' style:'display:none;'>
  <h3>Legend</h3>
  <h5>Click on a layer to turn it on or off.</h5>
  <div id = 'layer-1'>
    <svg width="20" height="20">
      <rect width="20" height="20" style="fill:rgba(255,255,255,0);stroke-width:2.5;stroke:rgba(43,121,181,1);stroke-dasharray:6, 3, 4, 3" />
    </svg> Danville Town Boundary<br />
  </div>

  <svg width="20" height="20">
    <rect width="20" height="20" style="fill:rgba(51,161,43,0.7)" />
  </svg> Town Parks<br />
  <svg width="20" height="20">
      <rect width="20" height="20" style="fill:rgba(74,118,40,0.7)" />
    </svg> Regional Parks<br />
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(152,135,148,0.7)" />
      </svg> School Parks<br />
    <div id = 'layer-2'>
      <svg width="20" height="20">
          <rect width="20" height="20" style="fill:rgba(165,55,3,0.6)" />
        </svg> 1/4 mile Town Park Service Area<br />
    </div>
  <div id = 'layer-3'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(231,86,13,0.6)" />
      </svg> 1/2 mile Town Park Service Area<br />
  </div>
  <div id = 'layer-4'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(253,192,135,0.6)" />
      </svg> 1 mile Town Park Service Area<br />
  </div>
  <div id = 'layer-5'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(0,112,45,0.6)" />
      </svg> 1/4 mile School Park Service Area<br />
  </div>
  <div id = 'layer-6'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(115,196,116,0.6)" />
      </svg> 1/2 mile School Park Service Area<br />
  </div>
  <div id = 'layer-7'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(188,227,181,0.6)" />
      </svg> 1 mile School Park Service Area<br />
  </div>
  <div id = 'layer-8'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(85,39,144,0.6)" />
      </svg> 1/2 mile Regional Park Service Area<br />
  </div>
  <div id = 'layer-9'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(115,105,176,0.6)" />
      </svg> 1 mile Regional Park Service Area<br />
  </div>
  <div id = 'layer-10'>
    <svg width="20" height="20">
        <rect width="20" height="20" style="fill:rgba(204,202,227,0.6)" />
      </svg> 2 mile Regional Park Service Area<br />
  </div>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoibWlnY29tIiwiYSI6ImNrUllYc3MifQ.isgDkadcGHvdQKkSC1ohfQ';
var map = new mapboxgl.Map({
  container:'map',
  style: 'mapbox://styles/migcom/cipflqoz00011bfnqx0d5oyuu',
  center: [-122.00, 37.82],
  zoom: 13.3
});
$('#layer-1').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('danville_town_limits', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('danville_town_limits', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('danville_town_limits', 'visibility', 'visible');
  }
});
$('#layer-2').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('quartermiletownparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('quartermiletownparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('quartermiletownparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-3').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('halfmiletownparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('halfmiletownparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('halfmiletownparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-4').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('1miletownparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('1miletownparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('1miletownparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-5').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('quartermileschoolparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('quartermileschoolparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('quartermileschoolparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-6').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('halfmileschoolparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('halfmileschoolparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('halfmileschoolparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-7').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('1mileschoolparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('1mileschoolparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('1mileschoolparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-8').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('halfmileregionalparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('halfmileregionalparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('halfmileregionalparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-9').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('1mileregionalparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('1mileregionalparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('1mileregionalparkserviceareas', 'visibility', 'visible');
  }
});
$('#layer-10').click(function(e){
  e.preventDefault();
  e.stopPropagation();

  if(map.getLayoutProperty('2mileregionalparkserviceareas', 'visibility', 'visible')=='visible'){
    map.setLayoutProperty('2mileregionalparkserviceareas', 'visibility', 'none');
  }
  else {
    map.setLayoutProperty('2mileregionalparkserviceareas', 'visibility', 'visible');
  }
});

</script>
</body>
</html>
